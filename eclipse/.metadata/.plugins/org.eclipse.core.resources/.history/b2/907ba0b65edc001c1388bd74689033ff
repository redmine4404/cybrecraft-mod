package fr.redmine.redmod.blocks.TileEntity;

import cpw.mods.fml.common.registry.GameRegistry.ObjectHolder;
import net.minecraft.entity.item.EntityItem;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.world.World;

public class SmelterBlockTileEntity extends TileEntity{
	
	Item item1;
	Item item2;
	Item item;
	
	@Override
    public void readFromNBT(NBTTagCompound compound)
    {
		item1 = item.getItemById(compound.getInteger("Item1"));
		item2 = item.getItemById(compound.getInteger("Item2"));
        super.readFromNBT(compound);
    }
 
    @Override
    public void writeToNBT(NBTTagCompound compound)
    {
    	if(item1 != null) {
        compound.setInteger("Item1", item.getIdFromItem(item1) + 1);
    	}
    	if(item2 != null) {
        compound.setInteger("Item2", item.getIdFromItem(item2) + 1);
    	}
    	super.writeToNBT(compound);
    }
    
    public void setItem1(Item item) {
    	item1 = item;
		System.out.println("truc");
    }
    
    public void setItem2(Item item) {
    	item2 = item;
		System.out.println("truc");
    }
    
    public Item getItemStack1() {
    	if(item1 != null) {
    	return item1;
    	} else return null;
    }
    
    public Item getItemStack2() {
    	if(item2 != null) {
    	return item2;
    	} else return null;
    }
    
    @Override
    public void updateEntity() {
    	System.out.println(item1);
    	if(item1 != null) {
    		ItemStack itemstack = new ItemStack(item1);
    		EntityItem entity = new EntityItem(this.worldObj, this.xCoord, this.yCoord + 1, this.zCoord, itemstack);
    		entity.delayBeforeCanPickup = -1;
    		item1 = null;
    	}
    }
    
}